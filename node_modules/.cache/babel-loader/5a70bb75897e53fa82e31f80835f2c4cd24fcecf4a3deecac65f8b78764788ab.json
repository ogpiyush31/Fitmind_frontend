{"ast":null,"code":"import React from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate,useNavigate}from\"react-router-dom\";import MoodForm from\"./components/MoodForm\";import MoodChart from\"./components/MoodChart\";import UpliftingMessages from\"./components/UpliftingMessages\";import Login from\"./pages/Login\";import Register from\"./pages/Register\";import\"./style.css\";// ðŸ” Logout Button (shown only on protected pages)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LogoutButton=()=>{const navigate=useNavigate();const handleLogout=()=>{localStorage.removeItem(\"userId\");localStorage.removeItem(\"username\");// âœ… clear username too\nalert(\"Logged out successfully.\");navigate(\"/login\");};return/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:handleLogout,children:\"Logout\"});};// ðŸ” PrivateRoute wrapper to protect authenticated pages\nconst PrivateRoute=_ref=>{let{children}=_ref;const isLoggedIn=!!localStorage.getItem(\"userId\");return isLoggedIn?/*#__PURE__*/_jsxs(\"div\",{className:\"protected-wrapper\",children:[/*#__PURE__*/_jsx(LogoutButton,{}),children]}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});};function App(){const isLoggedIn=!!localStorage.getItem(\"userId\");const username=localStorage.getItem(\"username\");const currentPath=window.location.pathname;return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[isLoggedIn&&currentPath===\"/\"&&username&&/*#__PURE__*/_jsxs(\"div\",{className:\"hello-banner\",children:[\"Hello, \",localStorage.getItem(\"username\")||\"ðŸ˜Š\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"date-display\",children:new Date().toDateString()}),/*#__PURE__*/_jsx(\"h1\",{className:\"main-heading\",children:\"FitMind: Mental Fitness Journal\"}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(MoodForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/mood-chart\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(MoodChart,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/uplifting-messages\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(UpliftingMessages,{})})})]})]})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","MoodForm","MoodChart","UpliftingMessages","Login","Register","jsx","_jsx","jsxs","_jsxs","LogoutButton","navigate","handleLogout","localStorage","removeItem","alert","className","onClick","children","PrivateRoute","_ref","isLoggedIn","getItem","to","App","username","currentPath","window","location","pathname","Date","toDateString","path","element"],"sources":["C:/Users/PIYUSH PATEL/OneDrive/Desktop/FitMind/fitmind/frontend/src/App.js"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n  useNavigate,\r\n} from \"react-router-dom\";\r\nimport MoodForm from \"./components/MoodForm\";\r\nimport MoodChart from \"./components/MoodChart\";\r\nimport UpliftingMessages from \"./components/UpliftingMessages\";\r\nimport Login from \"./pages/Login\";\r\nimport Register from \"./pages/Register\";\r\nimport \"./style.css\";\r\n\r\n// ðŸ” Logout Button (shown only on protected pages)\r\nconst LogoutButton = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"userId\");\r\n    localStorage.removeItem(\"username\"); // âœ… clear username too\r\n    alert(\"Logged out successfully.\");\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <button className=\"logout-button\" onClick={handleLogout}>\r\n      Logout\r\n    </button>\r\n  );\r\n};\r\n\r\n// ðŸ” PrivateRoute wrapper to protect authenticated pages\r\nconst PrivateRoute = ({ children }) => {\r\n  const isLoggedIn = !!localStorage.getItem(\"userId\");\r\n  return isLoggedIn ? (\r\n    <div className=\"protected-wrapper\">\r\n      <LogoutButton />\r\n      {children}\r\n    </div>\r\n  ) : (\r\n    <Navigate to=\"/login\" />\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  const isLoggedIn = !!localStorage.getItem(\"userId\");\r\n  const username = localStorage.getItem(\"username\");\r\n  const currentPath = window.location.pathname;\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        {/* âœ… Show Hello with username on main page */}\r\n        {isLoggedIn && currentPath === \"/\" && username && (\r\n          <div className=\"hello-banner\">\r\n  Hello, {localStorage.getItem(\"username\") || \"ðŸ˜Š\"}\r\n</div>\r\n        )}\r\n\r\n        <div className=\"date-display\">{new Date().toDateString()}</div>\r\n        <h1 className=\"main-heading\">FitMind: Mental Fitness Journal</h1>\r\n\r\n        <Routes>\r\n          {/* Public Routes */}\r\n          <Route path=\"/login\" element={<Login />} />\r\n          <Route path=\"/register\" element={<Register />} />\r\n\r\n          {/* Protected Routes */}\r\n          <Route\r\n            path=\"/\"\r\n            element={\r\n              <PrivateRoute>\r\n                <MoodForm />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/mood-chart\"\r\n            element={\r\n              <PrivateRoute>\r\n                <MoodChart />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/uplifting-messages\"\r\n            element={\r\n              <PrivateRoute>\r\n                <UpliftingMessages />\r\n              </PrivateRoute>\r\n            }\r\n          />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}